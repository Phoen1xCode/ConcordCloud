# ConcordCloud

## 产品介绍
轻量级文件上传、下载和共享的Web网页解决方案

## 具体功能

### 核心功能

1. 用户注册和登录
- 用户可通过填写邮箱、设置密码完成注册流程。
- 用户可通过登录页面进行登录。
2. 文件上传和下载
- 用户可通过点击 “上传文件” 按钮，选择本地文件进行上传。
- 平台支持多种常见格式，包括但不限于 PDF（适用于文档分享）、图片（如 JPEG、PNG 等，适合照片、设计图分享）、视频（如 MP4，方便分享视频资料）等。
- 对于已上传到平台的文件，用户可在文件列表中找到对应文件，点击 “下载” 按钮即可将文件下载到本地设备。
3. 文件分享
- 用户选择需要分享的文件，点击 “生成分享密码” 按钮，即可为该文件生成唯一的分享密码，分享文件有效期可自定义设置。
- 登录用户和非登录用户可通过输入分享密码直接下载文件，无需下载客户端或者额外进行注册登录。
4. 文件管理
- 用户登录后，可在个人文件页面查看已上传的所有文件列表，列表展示文件名称、上传时间、文件大小等信息。
- 支持对文件进行重命名操作，右键点击文件选择 “重命名”，输入新名称即可；对于不再需要的文件，可选择文件后点击 “删除” 按钮进行删除。
- 文件可按类型（如将所有 PDF 文件归为一类、图片归为一类）或上传时间（按最新上传到最早上传排序）进行分类展示，方便用户查找和管理文件。
5. 用户权限控制
- 平台设置不同用户角色，主要为普通用户和管理员。
- 管理员拥有最高权限，可管理平台上所有文件，包括查看、编辑、删除任何用户上传的文件。
- 普通用户仅能管理自己上传的文件，如查看、重命名、删除自己的文件，无法对其他用户文件进行操作。

### 拓展功能

## 技术实现

本项目采用前后端分离的架构设计，前端基于 Vue.js 框架，后端基于 ASP.NET Core。


# 分层架构
## 一、分层架构设计的作用

### 1. **代码解耦与模块化**
   - **各司其职**：每个层级专注单一职责（如API层处理HTTP请求，Core层处理业务逻辑），避免代码混杂
   - **降低依赖**：通过接口隔离实现层级间松耦合（如业务层不直接依赖具体数据库实现）
   - **可替换性**：可独立替换某一层（例如将文件存储从本地磁盘改为云存储时，只需修改 Infrastructure 层）

### 2. **增强可维护性**
   - **快速定位问题**：根据错误类型（如数据库异常、业务逻辑错误）快速定位到对应层级
   - **并行开发**：团队成员可同时开发不同层级（例如前端开发者无需等待后端数据库设计完成）

### 3. **提升可测试性**
   - **单元测试**：可对 Core 层业务逻辑单独测试，无需启动完整Web服务
   - **Mock测试**：通过依赖注入模拟 Infrastructure 层的行为（如模拟文件上传成功/失败场景）

---

ConcordCloud.backend/
├── API/                           # Web API层
│   ├── Controllers/               # API控制器
│   ├── Middlewares/               # 自定义中间件
│   ├── HealthChecks/              # 健康检查
│   ├── Extensions/                # 服务扩展
│   └── Program.cs                 # 入口文件
│
├── Core/                          # 业务核心层
│   ├── Entities/                  # 领域模型
│   ├── Interfaces/                # 服务接口
│   ├── DTOs/                      # 数据传输对象
│   ├── Services/                  # 业务逻辑
│   └── Events/                    # 领域事件
│
└── Infrastructure/                # 基础设施层
    ├── Database/                  # 数据访问
    │   ├── AppDbContext.cs        # EF上下文
    │   └── Migrations/            # 数据库迁移
    │
    ├── FileStorage/               # 文件存储
    │   ├── LocalFileStorage.cs    # 本地存储
    │   ├── S3FileStorage.cs       # S3存储
    │   └── FileUploadValidator.cs # 上传验证
    │
    ├── Identity/                  # 身份认证
    ├── Caching/                   # 缓存服务
    └── MessageQueue/              # 消息队列

